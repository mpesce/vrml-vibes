#VRML V1.0 ascii

# VRML 1.0 Conformance Test Suite
# This file attempts to instantiate every node and field defined in the VRML 1.0 specification.
# Use this to verify parser coverage and rendering correctness.

Separator {
    Info { string "VRML 1.0 Conformance Test" }

    # -------------------------------------------------------------------------
    # Cameras
    # -------------------------------------------------------------------------
    PerspectiveCamera {
        position 0 0 20
        orientation 0 0 1 0
        focalDistance 5
        heightAngle 0.785398
    }
    
    OrthographicCamera {
        position 10 0 20
        orientation 0 0 1 0
        focalDistance 5
        height 10
    }

    # -------------------------------------------------------------------------
    # Lights
    # -------------------------------------------------------------------------
    DirectionalLight {
        on TRUE
        intensity 1.0
        color 1 1 1
        direction 0 0 -1
    }
    
    PointLight {
        on TRUE
        intensity 1.0
        color 1 0 0
        location -5 5 5
    }
    
    SpotLight {
        on TRUE
        intensity 1.0
        color 0 1 0
        location 5 5 5
        direction 0 -1 -1
        dropOffRate 0.5
        cutOffAngle 0.785
    }

    # -------------------------------------------------------------------------
    # Grouping & Transforms
    # -------------------------------------------------------------------------
    Separator {
        Translation { translation -5 0 0 }
        Cube { width 1 height 1 depth 1 }
    }
    
    Transform {
        translation -3 0 0
        rotation 0 1 0 0.785
        scaleFactor 1 2 1
        scaleOrientation 0 0 1 0
        center 0 0 0
    }
    Cube { } # Should be transformed
    
    # Reset transform
    Translation { translation 3 0 0 } # Relative to previous transform? No, Separator isolates.
    # Wait, we are in the root Separator.
    
    MatrixTransform {
        matrix 1 0 0 0
               0 1 0 0
               0 0 1 0
               0 0 0 1
    }
    
    Switch {
        whichChild 0
        Separator { Cube { } } # Child 0
        Separator { Sphere { } } # Child 1
    }
    
    LOD {
        range [ 10, 20 ]
        center 0 0 0
        Separator { Sphere { radius 1 } } # High detail
        Separator { Cube { width 1 } }    # Medium detail
        Separator { Cone { bottomRadius 1 } } # Low detail
    }
    
    Group {
        # Just a group, leaks state
        Material { diffuseColor 0.5 0.5 0.5 }
    }

    TransformSeparator {
        Translation { translation 0 5 0 }
        Sphere { radius 0.5 }
    }
    # Translation should be gone here

    # -------------------------------------------------------------------------
    # Shapes & Geometry
    # -------------------------------------------------------------------------
    Separator {
        Translation { translation 0 -5 0 }
        
        # Cube
        Separator {
            Translation { translation -6 0 0 }
            Cube { width 1.5 height 1 depth 0.5 }
        }
        
        # Sphere
        Separator {
            Translation { translation -4 0 0 }
            Sphere { radius 0.8 }
        }
        
        # Cone
        Separator {
            Translation { translation -2 0 0 }
            Cone { parts ALL bottomRadius 0.8 height 1.6 }
        }
        
        # Cylinder
        Separator {
            Translation { translation 0 0 0 }
            Cylinder { parts ALL radius 0.8 height 1.6 }
        }
        
        # AsciiText
        Separator {
            Translation { translation 2 0 0 }
            FontStyle {
                size 1.0
                family SERIF
                style BOLD
            }
            AsciiText {
                string [ "Hello", "VRML" ]
                spacing 1.2
                justification CENTER
                width [ 0, 0 ]
            }
        }
    }

    # -------------------------------------------------------------------------
    # IndexedFaceSet & Properties
    # -------------------------------------------------------------------------
    Separator {
        Translation { translation 0 -8 0 }
        
        Coordinate3 {
            point [
                -1 -1 0, 1 -1 0, 1 1 0, -1 1 0
            ]
        }
        
        Normal {
            vector [ 0 0 1, 0 0 1, 0 0 1, 0 0 1 ]
        }
        
        NormalBinding {
            value PER_VERTEX
        }
        
        Material {
            diffuseColor [ 1 0 0, 0 1 0, 0 0 1, 1 1 0 ]
        }
        
        MaterialBinding {
            value PER_VERTEX
        }
        
        TextureCoordinate2 {
            point [ 0 0, 1 0, 1 1, 0 1 ]
        }
        
        ShapeHints {
            vertexOrdering COUNTERCLOCKWISE
            shapeType SOLID
            faceType CONVEX
            creaseAngle 0.5
        }
        
        IndexedFaceSet {
            coordIndex [ 0, 1, 2, 3, -1 ]
            materialIndex [ 0, 1, 2, 3, -1 ]
            normalIndex [ 0, 1, 2, 3, -1 ]
            textureCoordIndex [ 0, 1, 2, 3, -1 ]
        }
    }

    # -------------------------------------------------------------------------
    # IndexedLineSet & PointSet
    # -------------------------------------------------------------------------
    Separator {
        Translation { translation 5 -8 0 }
        
        Coordinate3 {
            point [ 0 0 0, 1 1 0, 2 0 0 ]
        }
        
        IndexedLineSet {
            coordIndex [ 0, 1, 2, -1 ]
            materialIndex [ -1 ]
            normalIndex [ -1 ]
            textureCoordIndex [ -1 ]
        }
        
        Translation { translation 0 2 0 }
        
        PointSet {
            startIndex 0
            numPoints 3
        }
    }

    # -------------------------------------------------------------------------
    # Textures & WWW
    # -------------------------------------------------------------------------
    Separator {
        Translation { translation 8 0 0 }
        
        Texture2 {
            filename "test.jpg"
            image 0 0 0
            wrapS REPEAT
            wrapT REPEAT
        }
        
        Texture2Transform {
            translation 0 0
            rotation 0
            scaleFactor 1 1
            center 0 0
        }
        
        WWWAnchor {
            name "http://example.com"
            description "Link to Example"
            map NONE
            
            Cube { }
        }
    }
    
    Separator {
        Translation { translation 10 0 0 }
        WWWInline {
            name "http://example.com/inline.wrl"
            bboxSize 1 1 1
            bboxCenter 0 0 0
        }
    }
}
